
<!doctype HTML>
<head>
  <title>teepark on github</title>
  <link rel="stylesheet" type="text/css" href="/css/base.css" />
  <link rel="stylesheet" type="text/css" href="/css/embeds.css" />
</head>

<body>
  <a href="http://github.com/teepark">
    <img alt="fork me on github" src="/images/forkme_left.png" id="forkmeimg">
  </a>

  <h1 class="top-header"><a href="/">the blogging unengine</a></h1>

  <div id="content">
    








<div id="all-embeds">
  <div id="github-badge"></div>
  <div id="twitter_div">
    <h2 class="sidebar-title">why yes, i AM on twitter</h2>
    <ul id="twitter_update_list"></ul>
    <a href="http://twitter.com/teepark" id="twitter-link" style="display:block;text-align:right;">follow me on Twitter</a>
  </div>
</div>

<div class="entry-date">Oct 10 2009 at  8:36 pm</div>
<div class="entry-text"><p>For the last couple of hours I have been hacking together a publishing mechanism, but it's not quite the blogging engine that we are all so used to.</p>
<p>Now I, like every other python developer out there who has ever heard of django, have written my own blogging engine in it a couple of times, and played around with a couple of the more popular ones. With django I've done pingback and metaweblog via xmlrpc, a custom comment stack, facebook, flickr, and twitter integration, and a lot more. It's great.</p>
<p><strong>My requirements:</strong></p>
<ul>
<li>No $, so no purchasing hosting</li>
<li>No hosting my own webserver</li>
<li>No blogger</li>
<li>No google pages</li>
<li>No xanga</li>
<li>No livejournal</li>
<li>...you get the idea</li>
</ul>
<p>But this time, constrained by the requirements above, I wasn't going to be able to do those things. Django needs real hosting, and my free options are pretty much one of the custom hosted blog systems above (all of which I have tried and don't like), or having my free hosting just serve static files.</p>
<p>I chose the latter, and the free hosting service I'm using for that is github's pages. Which is especially nice, because my github profile is not a bad center for my online identity. By using github pages, the url for my blog is <a href="http://teepark.github.com">http://teepark.github.com</a> (not half bad), and all I have to do to update it is push my github repository named "<a href="http://github.com/teepark/teepark.github.com" title="The git repository driving this site">teepark.github.com</a>".</p>
<p>No, I'm not just writing HTML by hand to create blog posts. The technologies I'm using are just mako for templating, markdown for my entry format, and of course git for the uploading.</p>
<p><a href="http://github.com/teepark/teepark.github.com/blob/master/generate.py">The site content generation script</a> searches for *.markdown files in the src/ directory, converts that markdown to html 4 and passes it into mako running the <a href="http://github.com/teepark/teepark.github.com/blob/master/templates/entry.html">entry.html</a> template (also using the last-modified date and figuring the post title from the filename), and generates an HTML file for each entry in the entries/ directory. It also collects a brief excerpt of each entry using truncate_html_words() poached from django.utils.text, sorts them by date and passes them into the <a href="http://github.com/teepark/teepark.github.com/blob/master/templates/index.html">index.html</a> template.</p>
<p>The great thing about all this is that I have found that I can do a pretty good job integrating with web services and having dynamic elements on my page entirely with javascript. So far I have data from github (via <a href="http://github.com/drnic/github-badges">Dr Nic's github badge</a>), twitter (with their javascript embed), and even powerful comments on my posts from <a href="http://disqus.com">disqus</a>. I'm pretty stoked about what can be done with a totally static server and a little processing before uploading.</p>
<p>The final touch was adding a <a href="http://github.com/teepark/teepark.github.com/blob/master/pre-commit-hook.sh">pre-commit hook</a> that runs the generation script and adds the generated files to the commit. So I really don't have to think about the generated files at all - as I'm committing my changes to the src/ directory, the changes propogate out to the rest of the repository and update the website then next time I push.</p>
<p>I was thinking about how to separate the code that drives this system from the content. But in the end I was more interested in getting it up and running.</p>
<p>Now to see if I update this thing at all. I have a couple of ideas for posts, but that does not a successful blogging endeavor make.</p></div>

<div id="disqus_thread"></div>
  <noscript>
    <a href="http://teeparksblog.disqus.com/?url=ref">View the discussion thread.</a>
  </noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>

  <script type="text/javascript" charset="utf-8">
    GITHUB_USERNAME="teepark";
    GITHUB_LIST_LENGTH=10;
    GITHUB_TITLE = "My Projects"
    GITHUB_SHOW_ALL = "Show all"
  </script>
  <script src="http://drnic.github.com/github-badges/dist/github-badge-launcher.js" type="text/javascript"></script>
  <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
  <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/teepark.json?callback=twitterCallback2&count=5"></script>
  <script type="text/javascript" src="http://disqus.com/forums/teeparksblog/embed.js"></script>
  <script type="text/javascript">
  (function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i < links.length; i++) {
      if(links[i].href.indexOf('#disqus_thread') >= 0)
        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
    }
    document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/teeparksblog/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>
</body>























